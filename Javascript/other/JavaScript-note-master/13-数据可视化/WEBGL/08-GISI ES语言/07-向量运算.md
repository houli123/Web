# 向量运算
向量可以与以下数据进行各种运算：
单独数字
向量
矩阵

## 1-向量和单独数字的运算
向量可以与单独数字进行加减乘除。
```gl
vec4 v=vec4(1,2,3,4);
v+=1.0;
v-=1.0;
v*=2.0;
v/=2.0;
```
vec4 是浮点型向量。
我们上例中，写在vec4() 中的整数可以被vec4() 方法转换成浮点数。
vec4 向量在做四则运算时，其用于运算的数字类型应该是浮点型。
下面的写法会报错：
```gl
v+=1;
```
整型向量ivec2、ivec3、ivec4 的运算原理同上。

## 2-向量和向量的运算
1.加减乘除
```gl
vec4 p=vec4(1,2,3,4);
vec4 v=vec4(2,4,6,8);
v+=p;
v-=p;
v*=p;
v/=p;
```
2.其它方法
distance(p0,p1) 向量距离
dot(p0,p1) 点积
cross(p0,p1) 叉乘
……

## 3-向量和矩阵的运算
矩阵只能与向量进行乘法运算。
向量乘以矩阵和矩阵乘以向量的结果是不一样的，但数据类型都是向量。

(1)矩阵乘以向量
矩阵乘向量,就是把这个向量旋转,而且向量的大小也会改变,通常情况,没有人关注矩阵与一个向量的乘法,
而是关注整个向量空间,乘了这个矩阵之后,会如何变化,这其实就是向量空间的线性变换,特点是保持加法,保持数乘.
```gl
mat4 m=mat4(
    1,5,9,13,
    2,6,10,14,
    3,7,11,15,
    4,8,12,16
);
vec4 p=vec4(1,2,3,4);
vec4 v=m*p;

/*
    [30, 70, 110, 150]
*/
```
以v.x为例说一下其算法：
```gl
v.x=m[0][0]*v.x+m[1][0]*v.y+m[2][0]*v.z+m[3][0]*v.w
v.x=1*1+2*2+3*3+4*4
v.x=1+4+9+16
v.x=30
```

(2)向量乘以矩阵 （将矢量乘一个矩阵的几何意义就是将矢量与之前的坐标相对位置，转换为此矩阵坐标系下对应的位置，待验证）
将上面的代码改一下：
```gl
vec4 v=p*m;

/*
    [90, 100, 110, 120]
*/
```

以v.x为例说一下其算法：
```gl
v.x=m[0][0]*v.x+m[1][0]*v.y+m[2][0]*v.z+m[3][0]*v.w
v.x=1*1+2*5+3*9+4*13
v.x=90
```



