# 用位移矩阵做实验
根据空间向量分解定理。(空间向量分解定理是指如果三个向量a，b，c不共面，那么对空间任一向量p，
存在一个唯一的有序实数组x，y，z，使p=xa+yb+zc。表达式xa+yb+zc叫做向量a，b，c的线性表达式或线性组合)

由世界坐标系[O1;i1,j1,k1]可解析出四维矩阵m1：
```html
[
    i1.x,j1.x,k1.x,0,
    i1.y,j1.y,k1.y,0,
    i1.z,j1.z,k1.z,0,
    O1.x,O1.y,O1.z,1
]
```
同理，由本地坐标系[O2;i2,j2,k2]可解析出四维矩阵m2：

```html
[
    i2.x,j2.x,k2.x,0,
    i2.y,j2.y,k2.y,0,
    i2.z,j2.z,k2.z,0,
    O2.x,O2.y,O2.z,1
]
```


已知：
宇宙universe
宇宙的本地坐标系是[O1;i1,j1,k1]
O1(0,0,0)
i1(1,0,0)
j1(0,1,0)
k1(0,0,1)
宇宙包含万物，其本地坐标系就是万物的世界坐标系
银河系galaxy
银河系的本地坐标系是[O2;i2,j2,k2]
O2(1,2,3)
i2(1,0,0)
j2(0,1,0)
k2(0,0,1)
太阳sun
太阳在银河系内的本地坐标位是P2(4,5,6)
太阳∈银河系∈宇宙
求：太阳的世界位P1
解：
由宇宙坐标系[O1;i1,j1,k1]解矩阵m1：
注：set()方法里输入的矩阵是行主序的，但elements 输出的矩阵是列主序的。
```js
const m1 = new Matrix4()
m1.elements = [
1, 0, 0, 0,
0, 1, 0, 0,
0, 0, 1, 0,
0, 0, 0, 1,
]
```

由银河系[O2;i2,j2,k2]解矩阵m2:
```js
const m2 = new Matrix4()
m2.elements = [
1, 0, 0, 0,
0, 1, 0, 0,
0, 0, 1, 0,
1, 2, 3, 1,
]
```

点P的世界坐标位是：
```html
M = m1.multiply(m2).elements =
M[0][0] = 1*1 + 0*0 + 0*0 + 0*0 = 1
M[1][0] = 1*0 + 0*1 + 0*0 + 0*0 = 0
M[2][0] = 1*0 + 0*0 + 0*1 + 0*0 = 0
M[3][0] = 1*1 + 0*2 + 0*3 + 0*1 = 1

M[0][1] = 0*1 + 1*0 + 0*0 + 0*0 = 0
M[1][1] = 0*0 + 1*1 + 0*0 + 0*0 = 1
M[2][1] = 0*0 + 1*0 + 0*1 + 0*0 = 0
M[3][1] = 0*1 + 1*2 + 0*3 + 0*1 = 2

M[0][2] = 0*1 + 0*0 + 1*0 + 0*0 = 0
M[1][2] = 0*0 + 0*1 + 1*0 + 0*0 = 0
M[2][2] = 0*0 + 0*0 + 1*1 + 0*0 = 1
M[3][2] = 0*1 + 0*2 + 1*3 + 0*1 = 3

M[0][3] = 0*1 + 0*0 + 0*0 + 1*0 = 0
M[1][3] = 0*0 + 0*1 + 0*0 + 1*0 = 0
M[2][3] = 0*0 + 0*0 + 0*1 + 1*0 = 0
M[3][3] = 0*1 + 0*2 + 0*3 + 1*1 = 1
=
[
   1, 0, 0, 0,
   0, 1, 0, 0,
   0, 0, 1, 0,
   1, 2, 3, 1
]

P1=m1*m2*(4,5,6)
P1=(1+4,2+5,3+6)
P1=(5,7,9)
```
